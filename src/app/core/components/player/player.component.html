<div class="player">
  <div class="player__controllers">
    <app-controls color="var(--text-color)" />
    <app-slider-time />
    <app-volume-editor sliderWidth="80px" />
  </div>

  <div class="player__info">
    <img class="rounded min-w-[51px] w-[51px] aspect-square"
      [src]="song?.album?.cover_small ?? '../../assets/placeholder.jpg'" alt="song cover" />
    <!-- <div tooltip="Во весь экран">
      <img class="rounded min-w-[51px] w-[51px] aspect-square hover:brightness-50" (click)="onToggleZen()"
        [src]="song?.album?.cover_small ?? '../../assets/placeholder.jpg'" alt="song cover" />
    </div> -->
    <div class="player__info-text">
      <a appSlidingText class="player__info-title" [routerLink]="['/album', song?.album?.id]">
        {{ song?.title }}
      </a>
      <div class="player__info-artist">
        @if (song?.contributors?.length) {
        @for (artist of song?.contributors; track artist.id) {
        <a [routerLink]="['/artist', artist.id]">
          {{ artist.name }}
        </a>
        @if (!isLastElement($index)) {<span class="text-inherit">,&nbsp;</span>}
        }} @else {
        <a [routerLink]="['/artist', song?.artist?.id]">
          {{ song?.artist?.name }}
        </a>
        }
      </div>
    </div>
  </div>

  <div class="player__buttons">
    <button (click)="addToFavorite()" tooltip="Добавить в избранное">
      <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M22.7395 14.4924L20.8757 16.2983L19.0118 14.4924C17.0575 12.5987 13.9223 12.7033 12.0985 14.7229C10.3287 16.6827 10.085 19.6181 11.6876 21.7168C11.8845 21.9747 12.0782 22.2217 12.2625 22.4478C13.4289 23.8787 15.9739 26.3777 17.249 27.7188C18.1911 28.7096 19.038 29.5359 19.6759 30.1378C20.3497 30.7734 21.3896 30.7595 22.0646 30.1253C23.241 29.0199 25.0449 27.2982 26.3156 25.9618C27.5907 24.6207 28.3224 23.8787 29.4889 22.4478C29.6731 22.2217 29.8668 21.9747 30.0637 21.7168C31.6663 19.6181 31.4226 16.6827 29.6529 14.7229C27.829 12.7033 24.6939 12.5987 22.7395 14.4924Z"
          stroke-width="2.02054" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      <!-- add fill property css by favoriteIcon!!!! -->
    </button>
    <button>
      <svg width="41" height="42" viewBox="0 0 41 42" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="20" height="20" rx="3" transform="matrix(1 0 0 -1 10.2487 32.248)" stroke-width="2"
          stroke-linejoin="round" />
        <path
          d="M12.2487 12.248H28.2487V12.248C28.2487 10.5912 26.9055 9.24805 25.2487 9.24805H15.2487C13.5918 9.24805 12.2487 10.5912 12.2487 12.248V12.248Z"
          stroke-width="1.5" stroke-linejoin="round" />
        <path d="M16.2487 22.248H20.2487M24.2487 22.248H20.2487M20.2487 22.248V18.248M20.2487 22.248V26.248"
          stroke-width="2.02054" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
    </button>
    <button tooltip="Очередь" [routerLink]="['/queue']">
      <svg width="42" height="41" viewBox="0 0 42 41" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11.9946 14.248H29.9946" stroke-width="2" stroke-linecap="round" />
        <path d="M11.9946 20.248H29.9946" stroke-width="2" stroke-linecap="round" />
        <path d="M11.9946 26.248H29.9946" stroke-width="2" stroke-linecap="round" />
      </svg>
    </button>
    <button>
      <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="12.7001" cy="20.8771" r="1.68378" fill="#898989" />
        <circle cx="21.119" cy="20.8771" r="1.68378" fill="#898989" />
        <circle cx="29.5378" cy="20.8771" r="1.68378" fill="#898989" />
      </svg>
    </button>
  </div>
</div>
@if (zen) {
<app-zen (zenClose)="onToggleZen($event)"></app-zen>
}
