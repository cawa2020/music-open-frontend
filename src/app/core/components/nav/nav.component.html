<nav>
  <div class="flex gap-2">
    <a [class.active-link]="isCurrentPath('library')" class="main-link text-icon-block" [routerLink]="['/library']">
      @if (isCurrentPath('library')) {
      <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12.2322 12.2324V29.5193" stroke-width="2.02054" stroke-linecap="round" stroke-linejoin="round" />
        <path d="M17.9945 12.2324V29.5193" stroke-width="2.02054" stroke-linecap="round" stroke-linejoin="round" />
        <path d="M23.7568 29.5193V12.2324L29.5191 16.2217V29.5193H23.7568Z" fill="var(--text-color)"
          stroke-width="2.02054" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      } @else {
      <svg width="41" height="42" viewBox="0 0 41 42" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11.7349 12.2324V29.5193" stroke-width="2.02054" stroke-linecap="round" stroke-linejoin="round" />
        <path d="M17.4972 12.2324V29.5193" stroke-width="2.02054" stroke-linecap="round" stroke-linejoin="round" />
        <path d="M23.2595 29.5193V12.2324L29.0217 16.2217V29.5193H23.2595Z" stroke-width="2.02054"
          stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      }
      <span>Библиотека</span>
    </a>
    <a [class.active-link]="isCurrentPath('home')" class="main-link text-icon-block" [routerLink]="['/home']">
      @if (isCurrentPath('home')) {
      <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M10.7676 20.1028V27.6113C10.7676 28.5412 11.5215 29.2951 12.4514 29.2951H15.819C16.3851 29.3238 16.8599 28.8724 16.8599 28.3055V23.3981C16.8599 22.4724 17.6071 21.7204 18.5328 21.7144L23.3203 21.6834C24.2545 21.6774 25.015 22.433 25.015 23.3672V28.3884C25.015 28.8891 25.4209 29.2951 25.9217 29.2951H29.2892C30.2192 29.2951 30.973 28.5412 30.973 27.6113V20.1028C30.973 19.6075 30.755 19.1374 30.3769 18.8174L21.9579 11.6937C21.3301 11.1625 20.4105 11.1625 19.7827 11.6937L11.3638 18.8174C10.9857 19.1374 10.7676 19.6075 10.7676 20.1028Z"
          fill="var(--text-color)" stroke-width="2.3573" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      } @else {
      <svg width="41" height="42" viewBox="0 0 41 42" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M25.6729 29.2951H29.0405C29.9704 29.2951 30.7243 28.5412 30.7243 27.6113V20.1028C30.7243 19.6075 30.5062 19.1374 30.1281 18.8174L21.7092 11.6937C21.0814 11.1625 20.1618 11.1625 19.534 11.6937L11.115 18.8174C10.737 19.1374 10.5189 19.6075 10.5189 20.1028V27.6113C10.5189 28.5412 11.2727 29.2951 12.2027 29.2951H15.5702"
          stroke-width="2.3573" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      }
      <span>Главная</span>
    </a>
    <a [class.active-link]="isCurrentPath('search')" class="main-link text-icon-block" [routerLink]="['/search']">
      @if (isCurrentPath('search')) {
      <svg width="41" height="42" viewBox="0 0 41 42" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M24.9056 25.0307C26.4432 23.4622 27.3913 21.3137 27.3913 18.9437C27.3913 14.1412 23.4981 10.248 18.6957 10.248C13.8932 10.248 10 14.1412 10 18.9437C10 23.7462 13.8932 27.6394 18.6957 27.6394C21.1282 27.6394 23.3274 26.6405 24.9056 25.0307ZM24.9056 25.0307L30 30.248"
          stroke-width="2.02054" stroke-linecap="round" />
        <circle cx="18.7" cy="18.948" r="5.7" fill="var(--text-color)" />
      </svg>
      }@else {
      <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M25.6545 25.0307C27.1921 23.4622 28.1402 21.3137 28.1402 18.9437C28.1402 14.1412 24.2471 10.248 19.4446 10.248C14.6421 10.248 10.7489 14.1412 10.7489 18.9437C10.7489 23.7462 14.6421 27.6394 19.4446 27.6394C21.8771 27.6394 24.0763 26.6405 25.6545 25.0307ZM25.6545 25.0307L30.7489 30.248"
          stroke-width="2.02054" stroke-linecap="round" />
      </svg>
      }
      <span>Поиск</span>
    </a>
  </div>
  <div class="flex gap-2 items-center">
    @if (!isLoading()) {
    @if (user()) {
    <button>
      <svg width="42" height="41" viewBox="0 0 42 41" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M28.7871 24.696H13.7315C12.5418 24.696 11.8919 23.3085 12.6535 22.3946L13.908 20.8891C14.1234 20.6307 14.2309 20.3038 14.2277 19.9674C14.207 17.8481 14.5791 9.96289 21.2593 9.96289C27.9395 9.96289 28.3116 17.8481 28.2909 19.9674C28.2877 20.3038 28.3952 20.6307 28.6106 20.8891L29.8651 22.3946C30.6267 23.3085 29.9768 24.696 28.7871 24.696Z"
          stroke-width="1.6838" stroke-linecap="round" stroke-linejoin="round" />
        <path
          d="M17.7514 27.502C17.7514 27.502 18.453 29.6067 21.2593 29.6067C24.0656 29.6067 24.7672 27.502 24.7672 27.502"
          stroke-width="1.6838" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
    </button>
    <button>
      <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M29.8163 14.7348C29.8163 16.5946 28.3085 18.1023 26.4487 18.1023C24.5888 18.1023 23.0811 16.5946 23.0811 14.7348C23.0811 12.8749 24.5888 11.3672 26.4487 11.3672C28.3085 11.3672 29.8163 12.8749 29.8163 14.7348Z"
          stroke-width="1.6" />
        <path
          d="M19.5293 23.8386L20.2791 23.3387C22.1062 22.1207 24.2528 21.4707 26.4487 21.4707C28.6445 21.4707 30.7912 22.1207 32.6182 23.3387L33.368 23.8386C34.3049 24.4631 34.8676 25.5146 34.8676 26.6405V28.3181C34.8676 29.186 34.164 29.8896 33.2961 29.8896H26.4487H19.6013C18.7334 29.8896 18.0298 29.186 18.0298 28.3181V26.6405C18.0298 25.5146 18.5925 24.4631 19.5293 23.8386Z"
          stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
        <path
          d="M18.3974 14.7348C18.3974 16.5946 16.8897 18.1023 15.0298 18.1023C13.1699 18.1023 11.6622 16.5946 11.6622 14.7348C11.6622 12.8749 13.1699 11.3672 15.0298 11.3672C16.8897 11.3672 18.3974 12.8749 18.3974 14.7348Z"
          stroke-width="1.6" />
        <path
          d="M15.0298 21.4707V21.4707C12.834 21.4707 10.6873 22.1207 8.86024 23.3387L8.11045 23.8386C7.17359 24.4631 6.61087 25.5146 6.61087 26.6405V28.3181C6.61087 29.186 7.31447 29.8896 8.1824 29.8896H14.2433"
          stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
    </button>
    <button #menuIcon (click)="toggleMenu()">
      <svg width="42" height="41" viewBox="0 0 42 41" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M23.3543 32H19.1215C18.8394 32 18.5948 31.9083 18.3879 31.725C18.1809 31.5417 18.0587 31.3125 18.021 31.0375L17.6824 28.48C17.4379 28.3883 17.2076 28.2783 16.9916 28.15C16.7749 28.0217 16.5631 27.8842 16.3562 27.7375L13.9012 28.7275C13.6378 28.8192 13.3744 28.8283 13.111 28.755C12.8477 28.6817 12.6407 28.5258 12.4902 28.2875L10.4021 24.74C10.2516 24.5017 10.2046 24.245 10.261 23.97C10.3174 23.695 10.4585 23.475 10.6843 23.31L12.8006 21.7425C12.7818 21.6142 12.7724 21.4902 12.7724 21.3707V20.6282C12.7724 20.5094 12.7818 20.3858 12.8006 20.2575L10.6843 18.69C10.4585 18.525 10.3174 18.305 10.261 18.03C10.2046 17.755 10.2516 17.4983 10.4021 17.26L12.4902 13.7125C12.6219 13.4558 12.824 13.2952 13.0964 13.2307C13.3695 13.1669 13.6378 13.1808 13.9012 13.2725L16.3562 14.2625C16.5631 14.1158 16.7794 13.9783 17.0052 13.85C17.2309 13.7217 17.4567 13.6117 17.6824 13.52L18.021 10.9625C18.0587 10.6875 18.1809 10.4583 18.3879 10.275C18.5948 10.0917 18.8394 10 19.1215 10H23.3543C23.6365 10 23.881 10.0917 24.088 10.275C24.2949 10.4583 24.4172 10.6875 24.4548 10.9625L24.7934 13.52C25.038 13.6117 25.2686 13.7217 25.4853 13.85C25.7013 13.9783 25.9127 14.1158 26.1197 14.2625L28.5747 13.2725C28.838 13.1808 29.1014 13.1717 29.3648 13.245C29.6282 13.3183 29.8351 13.4742 29.9856 13.7125L32.0737 17.26C32.2242 17.4983 32.2713 17.755 32.2148 18.03C32.1584 18.305 32.0173 18.525 31.7916 18.69L29.6752 20.2575C29.694 20.3858 29.7034 20.5094 29.7034 20.6282V21.3707C29.7034 21.4902 29.6846 21.6142 29.647 21.7425L31.7633 23.31C31.9891 23.475 32.1302 23.695 32.1866 23.97C32.243 24.245 32.196 24.5017 32.0455 24.74L29.9574 28.26C29.8069 28.4983 29.5954 28.6589 29.323 28.7418C29.0499 28.8239 28.7816 28.8192 28.5182 28.7275L26.1197 27.7375C25.9127 27.8842 25.6964 28.0217 25.4707 28.15C25.2449 28.2783 25.0192 28.3883 24.7934 28.48L24.4548 31.0375C24.4172 31.3125 24.2949 31.5417 24.088 31.725C23.881 31.9083 23.6365 32 23.3543 32Z"
          stroke-width="1.6" />
        <circle cx="21.2379" cy="21.0002" r="3.34783" stroke-width="1.6" />
      </svg>
    </button>
    <a class="profile-icon" [routerLink]="['profile/', user()?.id]">
      {{userFirstLetter}}
      <!-- <img src="../../../../assets/icons/Name=User, Filled=No.svg" alt="like"> -->
    </a>
    } @else {
    <button class="secondary-button" (click)="openModal('registration')">Регистрация</button>
    <button class="button" (click)="openModal('login')">Вход</button>
    }
    }
  </div>
  @if (isMenuOpen) {
  <div #menu @fadeInOut class="left-hidden-block menu">
    <button class="menu-item flex items-center gap-3 hover:underline" (click)="toggleMode()">
      <!-- <ion-icon [name]="themeIcon" /> -->
      <p>{{currentTheme}} mode</p>
    </button>
    <div class="menu-item flex gap-3 items-center">
      <!-- <ion-icon name="color-palette" /> -->
      <div class="relative flex justify-between items-center gap-2">
        <input class="w-24" type="text" [(ngModel)]="color" (ngModelChange)="changeColor($event)" />
        <div class="w-6 h-6 rounded-full cursor-pointer" [style.backgroundColor]="color"></div>
        <input type="color" class="w-6 h-6 rounded-full opacity-0 absolute top-[6px] right-0 z-30" [(ngModel)]="color"
          (ngModelChange)="changeColor($event)" />
      </div>
    </div>
    @if (user()) {
    <hr class="w-full" />
    <button class="menu-item flex items-center gap-3" (click)="logout()">
      <!-- <ion-icon name="log-out-outline" /> -->
      <span>выйти</span>
    </button>
    }
  </div>
  }
</nav>